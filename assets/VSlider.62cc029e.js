import{b as ie,m as ue,u as ce,f as de,a as ve,V as me}from"./VLabel.cdec830a.js";import{p as fe,af as be,x as F,l as a,z as A,a1 as he,a0 as Z,H as ke,s as J,J as le,k as K,b as o,U as ee,V as pe,a4 as ye,aq as Se,L as ge,F as we,a3 as _e}from"./index.d70ef015.js";import{f as Ce}from"./index.92b86c57.js";import{c as Ve,b as Te,R as xe,f as Fe,g as Me}from"./VAvatar.437a741d.js";import{c as ze,u as W,d as te}from"./VIcon.983a7aeb.js";const G=Symbol.for("vuetify:v-slider");function Le(e,l,r){const p=r==="vertical",b=l.getBoundingClientRect(),C="touches"in e?e.touches[0]:e;return p?C.clientY-(b.top+b.height/2):C.clientX-(b.left+b.width/2)}function Re(e,l){return"touches"in e&&e.touches.length?e.touches[0][l]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][l]:e[l]}const Pe=fe({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Ve(),...Te({elevation:2})},"slider"),Ne=e=>{let{props:l,handleSliderMouseUp:r,handleMouseMove:p,getActiveThumb:b}=e;const{isRtl:C}=be(),V=F(l,"reverse"),T=a(()=>{let t=C.value?"rtl":"ltr";return l.reverse&&(t=t==="rtl"?"ltr":"rtl"),t}),c=a(()=>parseFloat(l.min)),y=a(()=>parseFloat(l.max)),f=a(()=>l.step>0?parseFloat(l.step):0),M=a(()=>{const t=f.value.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}),P=a(()=>parseInt(l.thumbSize,10)),S=a(()=>parseInt(l.tickSize,10)),h=a(()=>parseInt(l.trackSize,10)),g=a(()=>(y.value-c.value)/f.value),E=F(l,"disabled"),B=a(()=>l.direction==="vertical"),z=a(()=>{var t;return l.error||l.disabled?void 0:(t=l.thumbColor)!=null?t:l.color}),s=a(()=>{var t;return l.error||l.disabled?void 0:(t=l.trackColor)!=null?t:l.color}),N=a(()=>{var t;return l.error||l.disabled?void 0:(t=l.trackFillColor)!=null?t:l.color}),w=A(!1),d=A(0),k=A(),v=A();function _(t){if(f.value<=0)return t;const u=Z(t,c.value,y.value),O=c.value%f.value,Y=Math.round((u-O)/f.value)*f.value+O;return parseFloat(Math.min(Y,y.value).toFixed(M.value))}function L(t){var u;const O=l.direction==="vertical",Y=O?"top":"left",ae=O?"height":"width",re=O?"clientY":"clientX",{[Y]:se,[ae]:oe}=(u=k.value)==null?void 0:u.$el.getBoundingClientRect(),ne=Re(t,re);let H=Math.min(Math.max((ne-se-d.value)/oe,0),1)||0;return(O||T.value==="rtl")&&(H=1-H),_(c.value+H*(y.value-c.value))}let x=!1;const m=t=>{x||(d.value=0,r(L(t))),w.value=!1,x=!1,d.value=0},U=t=>{v.value=b(t),v.value&&(v.value.focus(),w.value=!0,v.value.contains(t.target)?(x=!0,d.value=Le(t,v.value,l.direction)):(d.value=0,p(L(t))))},R={passive:!0,capture:!0};function $(t){x=!0,p(L(t))}function n(t){t.stopPropagation(),t.preventDefault(),m(t),window.removeEventListener("mousemove",$,R),window.removeEventListener("mouseup",n)}function i(t){var u;m(t),window.removeEventListener("touchmove",$,R),(u=t.target)==null||u.removeEventListener("touchend",i)}function D(t){var u;U(t),window.addEventListener("touchmove",$,R),(u=t.target)==null||u.addEventListener("touchend",i,{passive:!1})}function q(t){t.preventDefault(),U(t),window.addEventListener("mousemove",$,R),window.addEventListener("mouseup",n,{passive:!1})}const I=t=>{const u=(t-c.value)/(y.value-c.value)*100;return Z(isNaN(u)?0:u,0,100)},j=a(()=>l.ticks?Array.isArray(l.ticks)?l.ticks.map(t=>({value:t,position:I(t),label:t.toString()})):Object.keys(l.ticks).map(t=>({value:parseFloat(t),position:I(parseFloat(t)),label:l.ticks[t]})):g.value!==1/0?he(g.value+1).map(t=>{const u=c.value+t*f.value;return{value:u,position:I(u)}}):[]),X=a(()=>j.value.some(t=>{let{label:u}=t;return!!u})),Q={activeThumbRef:v,color:F(l,"color"),decimals:M,disabled:E,direction:F(l,"direction"),elevation:F(l,"elevation"),hasLabels:X,horizontalDirection:T,isReversed:V,min:c,max:y,mousePressed:w,numTicks:g,onSliderMousedown:q,onSliderTouchstart:D,parsedTicks:j,parseMouseMove:L,position:I,readonly:F(l,"readonly"),rounded:F(l,"rounded"),roundValue:_,showTicks:F(l,"showTicks"),startOffset:d,step:f,thumbSize:P,thumbColor:z,thumbLabel:F(l,"thumbLabel"),ticks:F(l,"ticks"),tickSize:S,trackColor:s,trackContainerRef:k,trackFillColor:N,trackSize:h,vertical:B};return ke(G,Q),Q},$e=J({name:"VSliderThumb",directives:{Ripple:xe},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0}},emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:r,emit:p}=l;const b=le(G);if(!b)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:C,step:V,vertical:T,disabled:c,thumbSize:y,thumbLabel:f,direction:M,readonly:P,elevation:S,isReversed:h,horizontalDirection:g,mousePressed:E,decimals:B}=b,{textColorClasses:z,textColorStyles:s}=ze(C),{pageup:N,pagedown:w,end:d,home:k,left:v,right:_,down:L,up:x}=Se,m=[N,w,d,k,v,_,L,x],U=a(()=>V.value?[1,2,3]:[1,5,10]);function R(n,i){if(!m.includes(n.key))return;n.preventDefault();const D=V.value||.1,q=(e.max-e.min)/D;if([v,_,L,x].includes(n.key)){const j=(g.value==="rtl"?[v,x]:[_,x]).includes(n.key)?1:-1,X=n.shiftKey?2:n.ctrlKey?1:0;i=i+j*D*U.value[X]}else if(n.key===k)i=e.min;else if(n.key===d)i=e.max;else{const I=n.key===w?1:-1;i=i-I*D*(q>100?q/10:10)}return Math.max(e.min,Math.min(e.max,i))}function $(n){const i=R(n,e.modelValue);i!=null&&p("update:modelValue",i)}return W(()=>{var n;const i=K(T.value||h.value?100-e.position:e.position,"%"),{elevationClasses:D}=Fe(a(()=>c.value?void 0:S.value));return o("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&E.value}],style:{"--v-slider-thumb-position":i,"--v-slider-thumb-size":K(y.value)},role:"slider",tabindex:c.value?-1:0,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":P.value,"aria-orientation":M.value,onKeydown:P.value?void 0:$},[o("div",{class:["v-slider-thumb__surface",z.value,D.value],style:{...s.value}},null),ee(o("div",{class:["v-slider-thumb__ripple",z.value],style:s.value},null),[[pe("ripple"),!0,null,{circle:!0,center:!0}]]),o(Ce,{origin:"bottom center"},{default:()=>{var q;return[ee(o("div",{class:"v-slider-thumb__label-container"},[o("div",{class:["v-slider-thumb__label"]},[o("div",null,[(q=(n=r["thumb-label"])==null?void 0:n.call(r,{modelValue:e.modelValue}))!=null?q:e.modelValue.toFixed(V.value?B.value:1)])])]),[[ye,f.value&&e.focused||f.value==="always"]])]}})])}),{}}});const Ee=J({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0}},emits:{},setup(e,l){let{slots:r}=l;const p=le(G);if(!p)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:b,horizontalDirection:C,parsedTicks:V,rounded:T,showTicks:c,tickSize:y,trackColor:f,trackFillColor:M,trackSize:P,vertical:S,min:h,max:g}=p,{roundedClasses:E}=Me(T),{backgroundColorClasses:B,backgroundColorStyles:z}=te(M),{backgroundColorClasses:s,backgroundColorStyles:N}=te(f),w=a(()=>`inset-${S.value?"block-end":"inline-start"}`),d=a(()=>S.value?"height":"width"),k=a(()=>({[w.value]:"0%",[d.value]:"100%"})),v=a(()=>e.stop-e.start),_=a(()=>({[w.value]:K(e.start,"%"),[d.value]:K(v.value,"%")})),L=a(()=>(S.value?V.value.slice().reverse():V.value).map((m,U)=>{var i;var R;const $=S.value?"bottom":"margin-inline-start",n=m.value!==h.value&&m.value!==g.value?K(m.position,"%"):void 0;return o("div",{key:m.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":m.position>=e.start&&m.position<=e.stop,"v-slider-track__tick--first":m.value===h.value,"v-slider-track__tick--last":m.value===g.value}],style:{[$]:n}},[(m.label||r["tick-label"])&&o("div",{class:"v-slider-track__tick-label"},[(i=(R=r["tick-label"])==null?void 0:R.call(r,{tick:m,index:U}))!=null?i:m.label])])}));return W(()=>o("div",{class:["v-slider-track",E.value],style:{"--v-slider-track-size":K(P.value),"--v-slider-tick-size":K(y.value),direction:S.value?void 0:C.value}},[o("div",{class:["v-slider-track__background",s.value,{"v-slider-track__background--opacity":!!b.value||!M.value}],style:{...k.value,...N.value}},null),o("div",{class:["v-slider-track__fill",B.value],style:{..._.value,...z.value}},null),c.value&&o("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":c.value==="always"}]},[L.value])])),{}}}),Ke=J({name:"VSlider",props:{...ie(),...Pe(),...ue(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{slots:r}=l;const p=A(),{min:b,max:C,mousePressed:V,roundValue:T,onSliderMousedown:c,onSliderTouchstart:y,trackContainerRef:f,position:M,hasLabels:P,readonly:S}=Ne({props:e,handleSliderMouseUp:s=>h.value=T(s),handleMouseMove:s=>h.value=T(s),getActiveThumb:()=>{var s;return(s=p.value)==null?void 0:s.$el}}),h=ge(e,"modelValue",void 0,s=>{const N=typeof s=="string"?parseFloat(s):s==null?b.value:s;return T(N)}),{isFocused:g,focus:E,blur:B}=ce(e),z=a(()=>M(h.value));return W(()=>{const[s,N]=de(e),w=!!(e.label||r.label||r.prepend);return o(me,_e({class:["v-slider",{"v-slider--has-labels":!!r["tick-label"]||P.value,"v-slider--focused":g.value,"v-slider--pressed":V.value,"v-slider--disabled":e.disabled}]},s,{focused:g.value}),{...r,prepend:w?d=>{var _;var k,v;return o(we,null,[((_=(k=r.label)==null?void 0:k.call(r,d))!=null?_:e.label)?o(ve,{class:"v-slider__label",text:e.label},null):void 0,(v=r.prepend)==null?void 0:v.call(r,d)])}:void 0,default:d=>{let{id:k}=d;return o("div",{class:"v-slider__container",onMousedown:S.value?void 0:c,onTouchstartPassive:S.value?void 0:y},[o("input",{id:k.value,name:e.name||k.value,disabled:e.disabled,readonly:e.readonly,tabindex:"-1",value:h.value},null),o(Ee,{ref:f,start:0,stop:z.value},{"tick-label":r["tick-label"]}),o($e,{ref:p,focused:g.value,min:b.value,max:C.value,modelValue:h.value,"onUpdate:modelValue":v=>h.value=v,position:z.value,elevation:e.elevation,onFocus:E,onBlur:B},{"thumb-label":r["thumb-label"]})])}})}),{}}});export{Ke as V};
